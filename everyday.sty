\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{everyday}[2020/05/13 v0.0.1 Template for everyday problems]

% 强制使用 XeTeX
% \RequirePackage{ifxetex}
% \RequireXeTeX

% 使用 Ctex 宏包，1.5 倍行间距，小4字号，强制 UTF-8
\RequirePackage[UTF8,linespread=1.5,zihao=-4]{ctex}

% 插图
\RequirePackage{graphicx}

% 页面设置
\RequirePackage{geometry}
\geometry{
  a4paper,
  hmargin = 2.6cm, top = 2.92cm, bottom = 3.03cm,
	headheight = 0.45cm, headsep = 0.59cm, footskip = 1.05cm
}

% 页眉页脚
\pagestyle{headandfoot}
\header{}{}{}
\footer{}{\small \quad 第~\thepage~页(共~\numpages~页)}{}

% 支持 AMS 数学符号和环境
\RequirePackage{amsmath,amssymb,amsthm}

% 支持 Unicode 数学符号
\RequirePackage{unicode-math}
\unimathsetup{
  math-style = ISO,
  bold-style = ISO,
  nabla      = upright,
  partial    = upright,
}

% 使用 XITS 字体
\setmainfont{XITS}
\setmathfont{XITS Math}
\setmathfont{XITS Math Bold}[version=bold] 

% 使用全角句点
\catcode`。=\active
\def。{．}

\usepackage{pgfornament}
\usepackage{xcolor}

\definecolor{dblue}{HTML}{143268}
\definecolor{dpink}{HTML}{B43283}

\usepackage{enumitem}

\renewcommand{\solutiontitle}{\noindent{\heiti\color{red}【解析】}\enspace}
\renewcommand{\questionlabel}{\color{dpink} \thequestion.}

% 微分 d 符号
\newcommand\dd{\symrm{d}}

% 向量大写
\newcommand\V[1]{\symbf{#1}}

% 整除/不整除符号
\makeatletter
\providecommand{\nmid}{} % a mock definition
\renewcommand\nmid{\mathrel{\mathpalette\thiel@nmid\relax}}
\newcommand{\thiel@nmid}[2]{%
  \ooalign{%
    \rotatebox[origin=c]{40}{$\m@th#1-\mkern-3.5mu$}\cr
    \hidewidth$\m@th#1|$\hidewidth\cr}%
}
\newcommand\wmid{\mathrel{\mathpalette\thiel@mid\relax}}
\newcommand{\thiel@mid}[2]{%
  \ooalign{%
    \hphantom{\rotatebox[origin=c]{40}{$\m@th#1-\mkern-3.5mu$}}\cr
    \hidewidth$\m@th#1|$\hidewidth\cr}%
}
\makeatother